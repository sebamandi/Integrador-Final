{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Smand\\\\OneDrive\\\\Documentos\\\\Visual Studio\\\\Integrador-Final\\\\frontend\\\\src\\\\pages\\\\PaymentResult.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { useParams, useNavigate, useLocation } from 'react-router-dom';\nimport { useCart } from '../context/CartContext';\nimport { useNotification } from '../context/NotificationContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PaymentResult = () => {\n  _s();\n  const {\n    status\n  } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const {\n    clearCart\n  } = useCart();\n  const {\n    showNotification\n  } = useNotification();\n  useEffect(() => {\n    // Extraer parámetros de la URL\n    const queryParams = new URLSearchParams(location.search);\n    const paymentId = queryParams.get('payment_id');\n    const merchantOrderId = queryParams.get('merchant_order_id');\n    const handlePaymentResult = async () => {\n      try {\n        switch (status) {\n          case 'success':\n            // Limpiar carrito solo en pago exitoso\n            clearCart();\n            showNotification('¡Pago realizado con éxito!', 'success');\n            break;\n          case 'pending':\n            showNotification('El pago está pendiente de confirmación', 'info');\n            break;\n          case 'failure':\n            showNotification('Hubo un problema con el pago', 'error');\n            break;\n          default:\n            showNotification('Estado de pago desconocido', 'error');\n        }\n      } catch (error) {\n        console.error('Error procesando resultado de pago:', error);\n        showNotification('Error al procesar el pago', 'error');\n      }\n    };\n    handlePaymentResult();\n  }, [status, clearCart, showNotification, location.search]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex items-center justify-center bg-gray-100 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-xl p-8 max-w-md w-full text-center\",\n      children: [status === 'success' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-3xl font-bold text-green-600 mb-4\",\n          children: \"\\xA1Pago Exitoso!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-700 mb-6\",\n          children: \"Tu compra ha sido procesada correctamente.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this), status === 'pending' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-3xl font-bold text-yellow-600 mb-4\",\n          children: \"Pago Pendiente\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-700 mb-6\",\n          children: \"Tu pago est\\xE1 siendo procesado. Te mantendremos informado.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), status === 'failure' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-3xl font-bold text-red-600 mb-4\",\n          children: \"Pago Fallido\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-700 mb-6\",\n          children: \"Hubo un problema al procesar tu pago. Por favor, intenta nuevamente.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/'),\n        className: \"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors\",\n        children: \"Volver al Inicio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(PaymentResult, \"TaG8NbHI/9iKl33iADtKhGsL9f0=\", false, function () {\n  return [useParams, useNavigate, useLocation, useCart, useNotification];\n});\n_c = PaymentResult;\nexport default PaymentResult;\nvar _c;\n$RefreshReg$(_c, \"PaymentResult\");","map":{"version":3,"names":["React","useEffect","useParams","useNavigate","useLocation","useCart","useNotification","jsxDEV","_jsxDEV","PaymentResult","_s","status","navigate","location","clearCart","showNotification","queryParams","URLSearchParams","search","paymentId","get","merchantOrderId","handlePaymentResult","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Smand/OneDrive/Documentos/Visual Studio/Integrador-Final/frontend/src/pages/PaymentResult.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useParams, useNavigate, useLocation } from 'react-router-dom';\r\nimport { useCart } from '../context/CartContext';\r\nimport { useNotification } from '../context/NotificationContext';\r\n\r\nconst PaymentResult = () => {\r\n  const { status } = useParams();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { clearCart } = useCart();\r\n  const { showNotification } = useNotification();\r\n\r\n  useEffect(() => {\r\n    // Extraer parámetros de la URL\r\n    const queryParams = new URLSearchParams(location.search);\r\n    const paymentId = queryParams.get('payment_id');\r\n    const merchantOrderId = queryParams.get('merchant_order_id');\r\n\r\n    const handlePaymentResult = async () => {\r\n      try {\r\n        switch (status) {\r\n          case 'success':\r\n            // Limpiar carrito solo en pago exitoso\r\n            clearCart();\r\n            showNotification('¡Pago realizado con éxito!', 'success');\r\n            break;\r\n          \r\n          case 'pending':\r\n            showNotification('El pago está pendiente de confirmación', 'info');\r\n            break;\r\n          \r\n          case 'failure':\r\n            showNotification('Hubo un problema con el pago', 'error');\r\n            break;\r\n          \r\n          default:\r\n            showNotification('Estado de pago desconocido', 'error');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error procesando resultado de pago:', error);\r\n        showNotification('Error al procesar el pago', 'error');\r\n      }\r\n    };\r\n\r\n    handlePaymentResult();\r\n  }, [status, clearCart, showNotification, location.search]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-100 p-4\">\r\n      <div className=\"bg-white rounded-lg shadow-xl p-8 max-w-md w-full text-center\">\r\n        {status === 'success' && (\r\n          <div>\r\n            <h2 className=\"text-3xl font-bold text-green-600 mb-4\">¡Pago Exitoso!</h2>\r\n            <p className=\"text-gray-700 mb-6\">Tu compra ha sido procesada correctamente.</p>\r\n          </div>\r\n        )}\r\n\r\n        {status === 'pending' && (\r\n          <div>\r\n            <h2 className=\"text-3xl font-bold text-yellow-600 mb-4\">Pago Pendiente</h2>\r\n            <p className=\"text-gray-700 mb-6\">Tu pago está siendo procesado. Te mantendremos informado.</p>\r\n          </div>\r\n        )}\r\n\r\n        {status === 'failure' && (\r\n          <div>\r\n            <h2 className=\"text-3xl font-bold text-red-600 mb-4\">Pago Fallido</h2>\r\n            <p className=\"text-gray-700 mb-6\">Hubo un problema al procesar tu pago. Por favor, intenta nuevamente.</p>\r\n          </div>\r\n        )}\r\n\r\n        <button\r\n          onClick={() => navigate('/')}\r\n          className=\"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors\"\r\n        >\r\n          Volver al Inicio\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PaymentResult;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}